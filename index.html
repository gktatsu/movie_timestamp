<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Live Timestamp App - Start</title>
</head>
<body>
    <h1>YouTubeライブ視聴アプリ</h1>
    <p>視聴するYouTubeライブのリンクを入力してください:</p>
    <input type="text" id="youtubeUrl" placeholder="YouTubeライブのリンクを入力" style="width: 300px;">
    <button id="startLive">ライブを視聴</button>

    <script>
        document.getElementById('startLive').addEventListener('click', function() {
            const url = document.getElementById('youtubeUrl').value;
            const videoId = extractVideoId(url);
            if (videoId) {
                // YouTubeライブのビデオIDが正しく抽出できたら次の画面に遷移
                window.location.href = `live.html?videoId=${videoId}`;
            } else {
                alert('有効なYouTubeライブのリンクを入力してください');
            }
        });

        // YouTube URLからビデオIDを抽出する関数
        function extractVideoId(url) {
            const regExp = /^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }
    </script>
</body>
</html>
